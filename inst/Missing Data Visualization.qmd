---
title: "Missing Data Visualization - Ann Arbor R User's Group"
author: "Barry DeCicco"
format: docx
editor: visual
---

```{r load-libraries, include=FALSE}

# load libraries as needed:

library(tidyverse)
library(ggplot2)
library(janitor)
library(kableExtra)
library(magrittr)
library(tidyverse)
library(summarytools)
library(xtable)
library(broom)
library(tidyr)
# library(foreign)
# library(haven)
library(here)
library(tidyr)

# Missing data packages:

library(Amelia)
library(UpSetR)
library(naniar)
library(VIM)
```

This demonstration will use two data frames: 

-   **df**, which is created below, <p>
-   ***airquality**, which is a set of daily air quality readings from New York City, 1973.<p>


```{r create-data-frame, include=TRUE}

# Sample data
df <- data.frame(
  v1 = c(1,2,NA,NA,NA,6),
  v2 = c(NA,20,NA,40,50,NA),
  v3 = c('a',NA,'c','d','e','f'),
  v4 = c('aa','bb','cc','dd','ee','ff'),
  stringsAsFactors = F
)



```

{{< pagebreak >}}

 <center> #The **naniar** package:</center>

The naniar package has a number of missing value functions.
Two websites on this are:

-   Gallery of Missing Data Visualisations, by Nicholas Tierney (https://cran.r-project.org/web/packages/naniar/vignettes/naniar-visualisation.html) <p>

-   Getting Started with naniar, by Nicholas Tierney (http://naniar.njtierney.com/articles/getting-started-w-naniar.html)

All reference given here will be listed at the end of the presentation.


## Vis_mis Plot

This plot lists missing values by cases (rows) and variables (column) This allows you to see the patterns in the missingness, such as: \* Sets of variables by case, \* How many missing values are there by variable (columns and legends)

With a large number of cases, this gets more impressionistic, but shows patterns and overall amounts of missing data.

```{r create-vis_miss-plot}

vis_miss(airquality)

```

```{r create-aggr-plot-from-VIM}

aggr_plot <- aggr(airquality, col=c('navyblue','red'), 
                  numbers=TRUE, 
                  sortVars=TRUE, 
                  labels=names(data), 
                  cex.axis=.7, gap=3, 
                  ylab=c("Histogram of missing data","Pattern"))




```

# References

-   Project Location: https://github.com/AnnArborRUserGroup/AARUG_Visualizing_Missing_Data_2023_06_08

    <p>

    -   File Location: Missing Data Visualization.qmd

        <p>

-   Gallery of Missing Data Visualisations, by Nicholas Tierney (https://cran.r-project.org/web/packages/naniar/vignettes/naniar-visualisation.html)

    <p>

-   Getting Started with naniar, by Nicholas Tierney (http://naniar.njtierney.com/articles/getting-started-w-naniar.html)

    <p>

-   <p>

-   <p>

-   <p>

-   <p>
